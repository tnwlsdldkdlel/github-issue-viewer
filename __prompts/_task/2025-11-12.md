# 작업 기록 - 2025-11-12

## 요청 내용
PRD 문서를 기반으로 GitHub Issue Viewer 프로젝트 초기 설정 진행
- Next.js 14 (App Router) 프로젝트 생성
- TypeScript 설정
- 필요한 패키지 설치
- Vercel 배포 준비

## 변경 사항

### 프로젝트 초기화
- Next.js 14 프로젝트 기본 구조 생성
- TypeScript 설정 (`tsconfig.json`)
- Tailwind CSS 설정 (`tailwind.config.ts`, `postcss.config.js`)
- ESLint 설정 (`.eslintrc.json`)

### 패키지 설치
- React Query (`@tanstack/react-query`)
- TanStack Virtual (`@tanstack/react-virtual`)
- Zustand
- Tailwind CSS 및 관련 의존성

### 프로젝트 구조 생성
- `app/` 디렉토리 구조 (App Router)
  - `layout.tsx`: 루트 레이아웃
  - `page.tsx`: 홈 페이지
  - `providers.tsx`: React Query Provider
  - `globals.css`: 전역 스타일
- `lib/api.ts`: GitHub API 클라이언트 함수
- `components/`, `hooks/`, `stores/`, `types/` 디렉토리 생성

### Vercel 배포 설정
- `.vercelignore` 파일 생성
- `.gitignore` 설정 (`.env*.local`, `.vercel` 등 제외)
- `README.md` 작성

### 주요 기능
- GitHub API 클라이언트 구현 (`lib/api.ts`)
  - `fetchIssues`: 이슈 목록 조회
  - `fetchIssue`: 이슈 상세 조회
  - `fetchIssueComments`: 댓글 조회
  - Rate limit 헤더 처리
  - 환경 변수를 통한 토큰 관리

## 우선순위 1: 기본 이슈 목록 표시 구현

### 요청 내용
React Query의 `useInfiniteQuery`로 이슈 목록 가져오기 및 간단한 리스트 UI로 표시

### 변경 사항

#### 커스텀 훅 생성 (`hooks/useIssues.ts`)
- `useIssues`: React Query의 `useInfiniteQuery`를 사용한 이슈 목록 조회 훅
  - 필터링 옵션 지원 (state, labels, sort, direction)
  - 페이지네이션 지원
  - `getNextPageParam`으로 다음 페이지 자동 계산
- `filterOutPullRequests`: PR 필터링 헬퍼 함수

#### 이슈 목록 컴포넌트 (`components/IssueList.tsx`)
- `IssueList`: 이슈 목록을 표시하는 메인 컴포넌트
  - 로딩 상태 표시
  - 에러 상태 표시
  - 이슈 아이템 리스트 표시
  - "더 보기" 버튼으로 다음 페이지 로드
- `IssueItem`: 개별 이슈 아이템 컴포넌트
  - 이슈 상태 (열림/닫힘) 표시
  - 이슈 번호, 제목, 작성자, 작성일 표시
  - 댓글 수 표시
  - 라벨 색상 표시 (GitHub 라벨 색상 반영)
  - 다크 모드 지원

#### 홈 페이지 업데이트 (`app/page.tsx`)
- `IssueList` 컴포넌트 연결
- 레이아웃 및 스타일 개선
- 다크 모드 지원

### 기능
- ✅ React Query를 사용한 무한 스크롤 준비 (현재는 "더 보기" 버튼)
- ✅ PR 필터링 (pull_request 필드가 있는 항목 제외)
- ✅ 이슈 목록 UI 표시
- ✅ 로딩 및 에러 상태 처리

## 성능 측정 자동화 및 문서화

### 요청 내용
성능 측정을 자동화하고 측정 도구에 대한 문서 작성

### 변경 사항

#### 성능 측정 자동화 스크립트 추가
- `scripts/performance-test.ts`: Puppeteer + Lighthouse CLI 조합
  - 사용자 상호작용 자동화 (페이지 로드, "더 보기" 버튼 클릭)
  - Lighthouse CLI로 초기 로드 성능 측정
  - 여러 시나리오 지원 (초기 로드, 500개, 1000개, 스크롤)
- `scripts/performance-devtools.ts`: Puppeteer + Chrome DevTools Performance API 조합
  - 사용자 상호작용 자동화
  - Performance API로 현재 페이지 상태 직접 측정
  - DOM 노드 수, 메모리 사용량 등 런타임 메트릭 측정
  - "더 보기" 버튼 클릭 후 추가된 이슈도 측정 가능

#### npm 스크립트 추가
- `perf:auto:*`: Lighthouse 자동화 스크립트 실행
- `perf:devtools:*`: Chrome DevTools Performance 자동화 스크립트 실행

#### 문서 작성
- `docs/performance/measurement-tools.md`: 측정 도구 상세 설명 문서
  - 자동화 도구와 측정 도구의 관계 설명
  - 각 도구별 특징, 사용 방법, 장단점
  - 시나리오별 추천 도구 가이드
- `docs/performance/README.md`: 성능 측정 가이드 업데이트
  - Chrome DevTools Performance 자동화 스크립트 사용법 추가
- `docs/performance/baseline-2025-11-12.md`: 기준선 측정 결과 업데이트
  - Lighthouse 측정 결과 (초기 로드, 500개 이슈)
  - Chrome DevTools Performance 측정 결과 (초기 로드, 500개 이슈)
  - DOM 노드 수, 메모리 사용량 등 상세 메트릭 기록

#### 패키지 추가
- `puppeteer`: 브라우저 자동화
- `tsx`: TypeScript 스크립트 실행
- `ts-node`: TypeScript 스크립트 실행 (대체 옵션)

#### 파일 정리
- `docs/performance/report.json`, `report.html` 삭제 (임시 리포트 파일)

### 기능
- ✅ 성능 측정 자동화 (Puppeteer 사용)
- ✅ Lighthouse 자동화 스크립트 (초기 로드 측정)
- ✅ Chrome DevTools Performance 자동화 스크립트 (현재 페이지 상태 측정)
- ✅ 측정 도구 설명 문서 작성
- ✅ 기준선 측정 결과 기록

